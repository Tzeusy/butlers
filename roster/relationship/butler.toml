[butler]
name = "relationship"
port = 40102
description = "Personal CRM. Manages contacts, relationships, important dates, interactions, gifts, and reminders."

[butler.runtime]
model = "gpt-5.3-codex-spark"
max_concurrent_sessions = 3

[runtime]
type = "codex"

[butler.db]
name = "butlers"
schema = "relationship"

[[butler.schedule]]
name = "upcoming-dates-check"
cron = "0 8 * * *"
prompt = """
Check for important dates in the next 7 days (birthdays, anniversaries).
For each, draft a reminder message and store it in state for the Switchboard
to deliver via Telegram.
"""

[[butler.schedule]]
name = "relationship-maintenance"
cron = "0 9 * * 1"
prompt = """
Review contacts I haven't interacted with in 30+ days.
Suggest 3 people I should reach out to this week, with context
on our last interaction and any upcoming dates.
"""

[[butler.schedule]]
name = "memory-consolidation"
cron = "0 */6 * * *"
dispatch_mode = "job"
job_name = "memory_consolidation"

[[butler.schedule]]
name = "memory-episode-cleanup"
cron = "0 4 * * *"
dispatch_mode = "job"
job_name = "memory_episode_cleanup"

[modules.calendar]
provider = "google"

[modules.calendar.conflicts]
policy = "suggest"

[modules.contacts]
provider = "google"
include_other_contacts = false

[modules.contacts.sync]
enabled = true
run_on_startup = true
interval_minutes = 15
full_sync_interval_days = 6

[modules.memory]
