[butler]
name = "messenger"
port = 40104
description = "Outbound delivery execution plane for Telegram and Email"

[butler.runtime]
model = "gpt-5.3-codex-spark"
max_concurrent_sessions = 3

[runtime]
type = "codex"

[butler.switchboard]
url = "http://localhost:40100/mcp"
advertise = true
liveness_ttl_s = 300
route_contract_min = "route.v1"
route_contract_max = "route.v1"

[butler.db]
name = "butlers"
schema = "messenger"

[modules.calendar]
provider = "google"

[modules.calendar.conflicts]
policy = "suggest"

[modules.telegram]

[modules.telegram.user]
enabled = false

[modules.telegram.bot]
token_env = "BUTLER_TELEGRAM_TOKEN"

[modules.email]

[modules.email.user]
enabled = false

[modules.email.bot]
address_env = "BUTLER_EMAIL_ADDRESS"
password_env = "BUTLER_EMAIL_PASSWORD"

[modules.approvals]
enabled = true
default_expiry_hours = 48
default_risk_tier = "medium"

[modules.approvals.gated_tools.telegram_send_message]
risk_tier = "medium"

[modules.approvals.gated_tools.email_send_message]
risk_tier = "medium"

[modules.approvals.gated_tools.notify]
risk_tier = "medium"

[modules.messenger]
